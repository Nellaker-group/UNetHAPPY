from shapely import geometry
import matplotlib.pyplot as plt
import math

## eval run 24
## poly_id 899

poly = geometry.Polygon([[15581.2608, 19003.487251764705], [15563.1384, 18999.460051764705], [15540.9888, 18977.310451764704],[15528.9072, 18975.296851764706], [15518.8392, 18969.256051764707], [15510.788748235294, 18951.1376], [15504.747948235294, 18945.0968], [15502.734348235294, 18935.0288], [15492.666348235294, 18916.9064], [15492.666348235294, 18906.8384], [15502.734348235294, 18870.5936], [15500.720748235293, 18858.512], [15494.676, 18856.494451764705],[15490.652748235294, 18850.4576], [15492.666348235294, 18830.3216], [15504.747948235294, 18810.1856], [15516.829548235293, 18775.9544], [15528.911148235295, 18755.8184], [15532.938348235293, 18733.6688], [15540.992748235294, 18713.5328], [15559.1112, 18691.387148235295], [15597.3696, 18659.169548235295], [15615.492, 18651.115148235294],[15641.6688, 18643.060748235293], [15683.9544, 18643.060748235293], [15696.036, 18649.101548235292], [15712.140851764705, 18669.2336], [15714.154451764705, 18689.369599999998], [15702.072851764706, 18715.5464], [15700.059251764706, 18733.6688], [15685.964051764706, 18745.7504], [15685.964051764706, 18749.7776], [15689.9952, 18749.781548235293],[15696.036, 18741.727148235295], [15704.086451764706, 18743.7368], [15704.086451764706, 18765.8864], [15698.045651764705, 18788.036], [15692.004851764706, 18834.3488], [15679.923251764705, 18860.5256], [15659.7912, 18882.671251764707], [15645.699948235295, 18870.5936], [15645.699948235295, 18846.4304], [15647.7096, 18844.420748235294],[15655.764, 18850.461548235293], [15663.8184, 18850.461548235293], [15667.849548235294, 18846.4304], [15667.849548235294, 18836.362399999998], [15659.7912, 18836.358451764707], [15647.7096, 18844.412851764704], [15641.672748235294, 18838.376], [15639.659148235294, 18812.1992], [15635.631948235294, 18804.1448], [15625.56, 18796.086451764706]])



x,y = poly.exterior.xy
plt.plot(x,y)

plt.savefig("badpolygon.png")

count0 = 0

for i in range(len(poly.exterior.coords)):
    for j in range(len(poly.exterior.coords)):
        if poly.exterior.coords[i]==poly.exterior.coords[j] and i != j:
            print("HERE")
            print(i)
            print(poly.exterior.coords[i])
            print(j)
            print(poly.exterior.coords[j])
        if abs(poly.exterior.coords[i][0]-poly.exterior.coords[j][0])<0.1 and abs(poly.exterior.coords[i][1]-poly.exterior.coords[j][1])<0.1 and i != j:
            print("HERE")
            print(i)
            print(poly.exterior.coords[i])
            print(j)
            print(poly.exterior.coords[j])



poly2 = geometry.Polygon([[15581.2608, 19003.487251764705], [15563.1384, 18999.460051764705], [15540.9888, 18977.310451764704],[15528.9072, 18975.296851764706], [15518.8392, 18969.256051764707], [15510.788748235294, 18951.1376], [15504.747948235294, 18945.0968], [15502.734348235294, 18935.0288], [15492.666348235294, 18916.9064], [15492.666348235294, 18906.8384], [15502.734348235294, 18870.5936], [15500.720748235293, 18858.512], [15494.676, 18856.494451764705],[15490.652748235294, 18850.4576], [15492.666348235294, 18830.3216], [15504.747948235294, 18810.1856], [15516.829548235293, 18775.9544], [15528.911148235295, 18755.8184], [15532.938348235293, 18733.6688], [15540.992748235294, 18713.5328], [15559.1112, 18691.387148235295], [15597.3696, 18659.169548235295], [15615.492, 18651.115148235294],[15641.6688, 18643.060748235293], [15683.9544, 18643.060748235293], [15696.036, 18649.101548235292], [15712.140851764705, 18669.2336], [15714.154451764705, 18689.369599999998], [15702.072851764706, 18715.5464], [15700.059251764706, 18733.6688], [15685.964051764706, 18745.7504], [15685.964051764706, 18749.7776], [15689.9952, 18749.781548235293],[15696.036, 18741.727148235295], [15704.086451764706, 18743.7368], [15704.086451764706, 18765.8864], [15698.045651764705, 18788.036], [15692.004851764706, 18834.3488], [15679.923251764705, 18860.5256], [15659.7912, 18882.671251764707], [15645.699948235295, 18870.5936], [15645.699948235295, 18846.4304], [15647.7096, 18844.420748235294],[15655.764, 18850.461548235293], [15663.8184, 18850.461548235293], [15667.849548235294, 18846.4304], [15667.849548235294, 18836.362399999998], [15659.7912, 18836.358451764707], [15641.672748235294, 18838.376], [15639.659148235294, 18812.1992], [15635.631948235294, 18804.1448], [15625.56, 18796.086451764706]])


x2,y2 = poly2.exterior.xy
plt.plot(x2,y2)

plt.savefig("badpolygon2.png")



poly3 = geometry.Polygon([[15581.2608, 19003.487251764705], [15563.1384, 18999.460051764705], [15591.2608, 19013.487251764705]])

print(poly3)
print(len(poly3.exterior.coords))



poly4 = geometry.Polygon([[15581, 19003], [15563, 18999], [15563, 18999]])

print(poly4)
print(len(poly4.exterior.coords))


print("poly4.is_empty")
print(poly4.is_empty)
